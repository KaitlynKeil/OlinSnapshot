var data_sample = 
{
  "data": [
    {
      "category": "Food",
      "emails": [
        {
          "event_time": "17:22:57",
          "body": "I am putting a Party",
          "event_place": "Boston Commons",
          "subject": "Boston Tea Party",
          "event_data": "2018-03-02",
          "msg-id": 5,
          "who": "kaitlyn"
        },
        {        
          "event_time": "17:22:57",
          "body": "I am putting a Party",
          "event_place": "Boston Commons",
          "subject": "Boston Tea Party",
          "event_data": "2018-03-02",
          "msg-id": 5,
          "who": "kaitlyn"
        }
      ]
    },
    {
      "category":"Event",
      "emails": [
        {
          "event_time": "17:22:57",
          "body": "I am putting a Party",
          "event_place": "Boston Commons",
          "subject": "Boston Tea Party",
          "event_data": "2018-03-02",
          "msg-id": 5,
          "who": "kaitlyn"
        },
        {        
          "event_time": "17:22:57",
          "body": "I am putting a Party",
          "event_place": "Boston Commons",
          "subject": "Boston Tea Party",
          "event_data": "2018-03-02",
          "msg-id": 5,
          "who": "kaitlyn"
        }

      ]
    },
    {
      "category":"Other",
      "emails": [
        {
          "event_time": "17:22:57",
          "body": "I am putting a Party",
          "event_place": "Boston Commons",
          "subject": "Boston Tea Party",
          "event_data": "2018-03-02",
          "msg-id": 5,
          "who": "kaitlyn"
        },
        {        
          "event_time": "17:22:57",
          "body": "I am putting a Party",
          "event_place": "Boston Commons",
          "subject": "Boston Tea Party",
          "event_data": "2018-03-02",
          "msg-id": 5,
          "who": "kaitlyn"
        }

      ]
    },
    {
      "category":"Lost",
      "emails": [
        {
          "event_time": "17:22:57",
          "body": "I am putting a Party",
          "event_place": "Boston Commons",
          "subject": "Boston Tea Party",
          "event_data": "2018-03-02",
          "msg-id": 5,
          "who": "kaitlyn"
        },
        {       
          "event_time": "17:22:57",
          "body": "I am putting a Party",
          "event_place": "Boston Commons",
          "subject": "Boston Tea Party",
          "event_data": "2018-03-02",
          "msg-id": 5,
          "who": "kaitlyn"
        }

      ]
    }
  ]
};

var data_sample_2 = 
{
  "category":"Lost",
  "value": 20,
  "emails": [
    {
      "event_time": "17:22:57",
      "body": "I am putting a Party",
      "event_place": "Boston Commons",
      "subject": "Boston Tea Party",
      "event_data": "2018-03-02",
      "value": 5,
      "who": "kaitlyn"
    },
    {       
      "event_time": "17:22:57",
      "body": "I am putting a Party",
      "event_place": "Boston Commons",
      "subject": "Boston Tea Party",
      "event_data": "2018-03-02",
      "value": 5,
      "who": "kaitlyn"
    },
    {       
      "event_time": "17:22:57",
      "body": "I am putting a Party",
      "event_place": "Boston Commons",
      "subject": "Boston Tea Party",
      "event_data": "2018-03-02",
      "value": 5,
      "who": "kaitlyn"
    },
    {       
      "event_time": "17:22:57",
      "body": "I am putting a Party",
      "event_place": "Boston Commons",
      "subject": "Boston Tea Party",
      "event_data": "2018-03-02",
      "value": 5,
      "who": "kaitlyn"
    }
  ]
};

var data_sample_3 =

{ "emails":[
    {
      "event_time": "17:22:57",
      "body": "I am putting a Party",
      "event_place": "Boston Commons",
      "subject": "Boston Tea Party",
      "event_data": "2018-03-02",
      "value": 5,
      "who": "kaitlyn"
    },
    {       
      "event_time": "17:22:57",
      "body": "I am putting a Party",
      "event_place": "Boston Commons",
      "subject": "Boston Tea Party",
      "event_data": "2018-03-02",
      "value": 5,
      "who": "kaitlyn"
    },
    {       
      "event_time": "17:22:57",
      "body": "I am putting a Party",
      "event_place": "Boston Commons",
      "subject": "Boston Tea Party",
      "event_data": "2018-03-02",
      "value": 5,
      "who": "kaitlyn"
    },
    {       
      "event_time": "17:22:57",
      "body": "I am putting a Party",
      "event_place": "Boston Commons",
      "subject": "Boston Tea Party",
      "event_data": "2018-03-02",
      "value": 5,
      "who": "kaitlyn"
    }
  ]
};



var test =
{
  "name": "Data Development",
  "value": 60,
  "children": [
    {"name": "D3.js", "value": 10},
    {"name": "Dimple.js", "value": 8},
    {"name": "matplotlib(python)", "value": 6},
    {"name": "ggplot(R)", "value": 4},
    {"name": "numpy", "value": 9},
    {"name": "scikit-learn", "value": 8}
  ]
};


var test_2 =
{
  "name": "Lost",
  "value": 60,
  "helpme": [
    {
      "event_time": "17:22:57",
      "body": "I am putting a Party",
      "event_place": "Boston Commons",
      "subject": "Boston Tea Party",
      "event_data": "2018-03-02",
      "value": 5,
      "who": "kaitlyn"
    },
    {       
      "event_time": "17:22:57",
      "body": "I am putting a Party",
      "event_place": "Boston Commons",
      "subject": "Boston Tea Party",
      "event_data": "2018-03-02",
      "value": 5,
      "who": "kaitlyn"
    },
    {       
      "event_time": "17:22:57",
      "body": "I am putting a Party",
      "event_place": "Boston Commons",
      "subject": "Boston Tea Party",
      "event_data": "2018-03-02",
      "value": 5,
      "who": "kaitlyn"
    },
    {       
      "event_time": "17:22:57",
      "body": "I am putting a Party",
      "event_place": "Boston Commons",
      "subject": "Boston Tea Party",
      "event_data": "2018-03-02",
      "value": 5,
      "who": "kaitlyn"
    }

  ]
};

var test_3 =
{
  "name": "Lost",
  "value": 60,
  "children": [
    {
      "event_time": "17:22:57",
      "body": "I am putting a Party",
      "event_place": "Boston Commons",
      "name": "Boston Tea Party",
      "event_data": "2018-03-02",
      "value": 5,
      "who": "kaitlyn"
    },
    {       
      "event_time": "17:22:57",
      "body": "I am putting a Party",
      "event_place": "Boston Commons",
      "name": "Boston Tea Party",
      "event_data": "2018-03-02",
      "value": 5,
      "who": "kaitlyn"
    },
    {       
      "event_time": "17:22:57",
      "body": "I am putting a Party",
      "event_place": "Boston Commons",
      "name": "Boston Tea Party",
      "event_data": "2018-03-02",
      "value": 5,
      "who": "kaitlyn"
    },
    {       
      "event_time": "17:22:57",
      "body": "I am putting a Party",
      "event_place": "Boston Commons",
      "name": "Boston Tea Party",
      "event_data": "2018-03-02",
      "value": 5,
      "who": "kaitlyn"
    }
  ]
};

/*var color = d3.scale.category20()

var svgContainer = d3.select("body").append("svg")
  .attr("width", 200)
  .attr("height", 200);

var circles = svgContainer.selectAll("circle")
  .data(data_sample.data)
  .enter()
  .append("circle");

var circleAttributes = circles
  .attr("cx", 100)
  .attr("cy", 100)
  .attr("r", 50)//function (d) { return d.data.category.emails.length })
  .style("fill", color);

circles.append("text")
      .text(function(d) { return d.emails.subject; });*/



var width = 800, height = 600;

var chart = d3.select("body").append("svg")
  .attr("width", width).attr("height", height)
  .append("g")
    .attr("transform", "translate(50,50)");

var pack = d3.layout.pack()
  .size([width, height - 50])
  .padding(10);

var nodes = pack.nodes(test_2);

var node = chart.selectAll(".node")
    .data(nodes).enter()
  .append("g")
    .attr("class", "node")
    .attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });

node.append("circle")
    .attr("r",function(d) { return d.r; })
    .attr("fill", function(d){ return d.helpme ? "#fff" : "steelblue"; }) //make nodes with children invisible
    .attr("opacity", 0.25)
    .attr("stroke", function(d) { return d.helpme ? "#fff":"#ADADAD"; } ) //make nodes with children invisible
    .attr("stroke-width", 2);

node.append("text")
    .text(function(d) { return d.helpme? "" : d.who; });


/*var width = 800, height = 600;

var chart = d3.select("body").append("svg")
  .attr("width", width).attr("height", height)
  .append("g")
    .attr("transform", "translate(50,50)");

var pack = d3.layout.pack()
  .size([width, height - 50])
  .padding(10);


var nodes = pack.nodes(data_sample_2);

var node = chart.selectAll(".node")
    .data(nodes).enter()
  .append("g")
    .attr("class", "node")
    .attr("transform", function(d) { return "translate(" + d.value + "," + d.value + ")"; });

node.append("circle")
    .attr("r",function(d) { return d.value;})//d.emails.length * 30; })
    .attr("fill", function(d){ return d.emails ? "#fff": "steelblue";}) //make nodes with children invisible
    .attr("opacity", 0.25)
    .attr("stroke", function(d) { return  d.emails ? "#fff": "#ADADAD"; } ) //make nodes with children invisible
    .attr("stroke-width", 2);

node.append("text")
    .text(function(d) { return d.emails ? "" : d.subject });*/

/*
var width = 800, height = 600;

var chart = d3.select("body").append("svg")
  .attr("width", width).attr("height", height)
  .append("g")
    .attr("transform", "translate(50,50)");

var pack = d3.layout.pack()
  .size([width, height - 50])
  .padding(10);


var nodes = pack.nodes(data_sample_3);

var node = chart.selectAll(".node")
    .data(nodes).enter()
  .append("g")
    .attr("class", "node")
    .attr("transform", function(d) { return "translate(" + 50 + "," + 50 + ")"; });

node.append("circle")
    .attr("r",function(d) { return 50;})//d.emails.length * 30; })
    .attr("fill", function(d){ return  "steelblue";}) //make nodes with children invisible
    .attr("opacity", 0.25)
    .attr("stroke", function(d) { return "#ADADAD"; } ) //make nodes with children invisible
    .attr("stroke-width", 2);

node.append("text")
    .text(function(d) { return d.emails ? "" : d.subject });
*/
//var test = function(d) {return d.emails; };
//console.log(data_sample_2.emails.subject);
//console.log(d3.select("body").append("svg").attr("width", width).attr("height", height).selectAll(".node").data(nodes).enter().append("g"));
/*
node.append("text")
    .text("balls");*/








//console.log(d3.select("body").append("svg").attr("width", 200).attr("height", 200).selectAll("circle").data(data_sample.data).enter().append("circle"));
    
    //Load data, issue with referencing data.json while in local http server
/*    d3.json("/data/data.json", function(data) {
      //create data object
      var nodes = bubble.nodes(data_sample);
      
      //create a node for each bubble file
      var node = chart.selectAll(".node")
          //bind data 
          .data(nodes).enter()
        .append("g")
          .attr("class", "node")
          .attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });

      //add attributes to each create bubble
      node.append("circle")
          .attr("r",function(d) { return d.r; })
          .attr("fill", function(d){ return d.children ? "#fff" : "steelblue"; }) //make nodes with children invisible
          .attr("opacity", 0.25)
          .attr("stroke", function(d) { return d.children ? "#fff":"#ADADAD"; } ) //make nodes with children invisible
          .attr("stroke-width", 2);

      //add labeled text on top of each bubble
      node.append("text")
          .text(function(d) { return d.name; });
    });*/


//}

